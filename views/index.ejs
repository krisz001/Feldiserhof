<% /* i18n fallback: ha nincs t(), ne essen szét a render */ %>
<% const T = (typeof t === 'function') ? t : (k => k); %>

<%- include('partials/head', {
  title: T('home.title'),
  description: T('home.description')
}) %>

<%- include('partials/navbar') %>

<main id="main-content">
  <!-- HERO SECTION: csak slideshow-képek -->
  <%- include('partials/hero', {
    heroImages: (typeof heroImages !== 'undefined' && Array.isArray(heroImages) && heroImages.length > 0)
      ? heroImages
      : [
          '/img/hero/feldiserhof-winter.jpg',
          '/img/hero/feldiserhof-sunset.jpg',
          '/img/hero/feldiserhof-view.jpg',
          '/img/hero/miratoedi.jpg',
          '/img/hero/IMG_03652.jpg'
        ]
  }) %>

  <!-- HERO CONTENT: szöveg, gombok, heroBox stb. -->
  <%- include('partials/hero-content', {
    heroBox: (typeof heroBox !== 'undefined') ? heroBox : null
  }) %>

  <!-- ABOUT -->
  <%- include('partials/about') %>

  <!-- MENU -->
  <%- include('partials/menu', {
    menuData: (typeof menuData !== 'undefined')
      ? menuData
      : ((typeof menu !== 'undefined') ? menu : null),
    menuTitle: T('menu.title'),
    menuSubtitle: T('menu.subtitle'),
    menuIntro: T('menu.intro')
  }) %>

  <!-- WELLNESS -->
  <%- include('partials/wellness', {
    wellnessFeatures: [
      { icon: 'fas fa-fire',    name: T('wellness.features.sauna') },
      { icon: 'fas fa-sun',     name: T('wellness.features.infrared') },
      { icon: 'fas fa-tint',    name: T('wellness.features.cold') },
      { icon: 'fas fa-rain',    name: T('wellness.features.rain') }
    ],
    includedServices: [
      T('wellness.services.water'),
      T('wellness.services.fruits'),
      T('wellness.services.towels')
    ],
    pricingOptions: [
      { title: T('wellness.pricing.sauna.title'), meta: T('wellness.pricing.sauna.meta'), sub: T('wellness.pricing.sauna.sub'), highlighted: false },
      { title: T('wellness.pricing.spa.title'),   meta: T('wellness.pricing.spa.meta'),   sub: T('wellness.pricing.spa.sub'),   highlighted: true  }
    ],
    note:   T('wellness.note'),
    ctaText: T('wellness.cta'),
    ctaLink: '#contact',
    galleryImages: [
      { src: '/img/jpg1.jpg', alt: T('wellness.images.sauna'),    size: 'large', width: 1280, height: 720 },
      { src: '/img/jpg2.jpg', alt: T('wellness.images.infrared'), size: 'small', width: 640,  height: 360 }
    ]
  }) %>

  <!-- ROOMS (a partial saját fallback adatokkal dolgozik, roomsData opcionális) -->
  <%- include('partials/rooms', {
    roomsBadge: 'UNSERE ZIMMER',
    roomsTitle: 'Unsere Zimmer im Alpenstil',
    roomsLead: 'Erleben Sie gemütliche Wohlfühlmomente in unseren liebevoll eingerichteten Zimmern – jedes im traditionellen Alpenstil mit viel Holz, warmen Farben und einem Hauch von Bergromantik.'
  }) %>

  <!-- GALLERY (folders / album view) -->
  <%- include('partials/gallery', {
    view:   (typeof view   !== 'undefined') ? view   : 'folders',
    albums: (typeof albums !== 'undefined' && Array.isArray(albums)) ? albums : [],
    photos: (typeof photos !== 'undefined' && Array.isArray(photos)) ? photos : [],
    album:  (typeof album  !== 'undefined') ? album  : null
  }) %>

  <!-- CONTACT -->
  <%- include('partials/contact') %>
</main>

<%- include('partials/footer') %>

<!-- Admin login modal (password-only) -->
<link rel="stylesheet" href="/css/admin-modal.css">
<%- include('partials/admin-login-modal') %>

<!-- Scripts -->
<script defer src="/js/hero-rotator.js"></script>
<script defer src="/js/secret-admin.js"></script>
<!-- RENDELT NÉV: a menu.js helyett ez fut -->
<script defer src="/js/menu-portfolio-book.js?v=<%= Date.now() %>"></script>
