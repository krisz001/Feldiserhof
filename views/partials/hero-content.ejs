<%
const heroBoxData = typeof heroBox !== 'undefined' && heroBox ? heroBox : {
  enabled: true,
  icon: "üèîÔ∏è",
  title: "Aktuelles Angebot",
  description: "Genie√üen Sie unseren speziellen Bergblick mit 3-G√§nge-Men√º",
  highlightText: "",
  bottomLabel: "",
  buttonText: "Mehr erfahren",
  buttonLink: "#offers",
  startDate: new Date().toISOString().split('T')[0],
  endDate: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],
  priority: 1,
  isActive: true,
  targetAudience: "all",
  style: "glass",
  theme: "gold",
  align: "center"
};
%>

<div class="container py-5 my-5 hero-content">
  <div class="row align-items-center g-5">
    <div class="col-lg-6 text-center text-lg-start">
      <h1 class="display-3 text-white hero-title content-fade-in">
        Zimmer buchen ¬∑ Restaurant &amp; Caf√© ¬∑ Wellness
      </h1>

      <p class="mb-4 text-white-50 lead content-fade-in" style="animation-delay: 200ms">
        Willkommen im Feldiserhof ‚Äì feine K√ºche, regionale Zutaten und herzlicher Service.
      </p>

      <div class="d-flex flex-column flex-sm-row gap-3 content-fade-in" style="animation-delay: 400ms;">
        <a 
          href="#menu" 
          class="sajat-btn"
          aria-label="Speisekarte ansehen">
          <span class="btn-icon">üìã</span>
          Speisekarte
        </a>

        <a 
          href="#contact" 
          class="btn btn-warning py-3 px-4 px-lg-5 btn-hover-scale"
          aria-label="Tisch reservieren">
          <span class="btn-icon">üïí</span>
          Tisch reservieren
        </a>
      </div>

      <!-- Extra inform√°ci√≥ -->
      <div class="mt-4 content-fade-in" style="animation-delay: 600ms">
        <div class="d-flex flex-wrap justify-content-center justify-content-lg-start gap-3 text-white-50 small">
          <div class="d-flex align-items-center gap-2">
            <span class="text-warning">‚òÖ</span>
            <span>T√§glich ge√∂ffnet</span>
          </div>
          <div class="d-flex align-items-center gap-2">
            <span class="text-warning">‚òÖ</span>
            <span>Regionale Produkte</span>
          </div>
          <div class="d-flex align-items-center gap-2">
            <span class="text-warning">‚òÖ</span>
            <span>Kostenlose Parkpl√§tze</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Jobb oldali tartalom - DINAMIKUS HERO BOX -->
    <% if (heroBoxData && heroBoxData.enabled && heroBoxData.isActive) { %>
      <div class="col-lg-6 text-center">
        <div
          class="hero-badge content-fade-in hero-box-style-<%= heroBoxData.style || 'glass' %> hero-box-theme-<%= heroBoxData.theme || 'gold' %> hero-box-align-<%= heroBoxData.align || 'center' %>"
          style="animation-delay: 800ms"
        >
          <!-- Itt most a glass-st√≠lus√∫ .card-ot haszn√°ljuk -->
          <div class="card">
            <div class="card-body position-relative">

              <% if (heroBoxData.targetAudience && heroBoxData.targetAudience !== 'all') { %>
                <span class="hero-target-badge">
                  <%= heroBoxData.targetAudience === 'restaurant' ? 'üçΩÔ∏è Restaurant' : '' %>
                  <%= heroBoxData.targetAudience === 'wellness'   ? 'üíÜ Wellness'   : '' %>
                  <%= heroBoxData.targetAudience === 'hotel'      ? 'üõèÔ∏è Hotel'      : '' %>
                </span>
              <% } %>

              <!-- Ikon -->
              <div class="mb-2" style="font-size: 2rem">
                <%= heroBoxData.icon %>
              </div>

              <!-- C√≠m -->
              <h5 class="mb-3 <%= heroBoxData.align === 'left' ? 'text-start' : 'text-center' %>">
                <%= heroBoxData.title %>
              </h5>

              <!-- F≈ë le√≠r√°s ‚Äì sort√∂r√©sek megtart√°sa (egym√°s alatti lista) -->
              <p class="hero-box-description mb-3">
                <%- (heroBoxData.description || '')
                      .split('\n')
                      .map(l => l.trim())
                      .filter(Boolean)
                      .join('<br>') %>
              </p>

              <!-- Kiemelt sor (k√∂z√©ps≈ë vil√°gos s√°v) ‚Äì szint√©n t√°mogat sort√∂r√©st -->
              <% if (heroBoxData.highlightText && heroBoxData.highlightText.trim()) { %>
                <div class="inner-ad-line mb-3">
                  <%- heroBoxData.highlightText
                        .split('\n')
                        .map(l => l.trim())
                        .filter(Boolean)
                        .join('<br>') %>
                </div>
              <% } %>

              <!-- Gomb -->
              <% if (heroBoxData.buttonText && heroBoxData.buttonText.trim()) { %>
                <a href="<%= heroBoxData.buttonLink || '#' %>" class="btn hero-btn hero-btn-solid">
                  <%= heroBoxData.buttonText %>
                </a>
              <% } %>

              <!-- Als√≥ inf√≥s√°v: bottomLabel, vagy ha nincs, akkor d√°tum -->
              <% if (heroBoxData.bottomLabel || heroBoxData.endDate) { %>
                <div class="mt-3 pt-2 border-top border-light border-opacity-25">
                  <small class="badge-expiry">
                    <%= (heroBoxData.bottomLabel && heroBoxData.bottomLabel.trim())
                      ? heroBoxData.bottomLabel
                      : (heroBoxData.endDate
                          ? ('G√ºltig bis: ' + new Date(heroBoxData.endDate).toLocaleDateString('de-DE'))
                          : '') %>
                  </small>
                </div>
              <% } %>

            </div>
          </div>
        </div>
      </div>
    <% } else if (heroBoxData && (!heroBoxData.enabled || !heroBoxData.isActive)) { %>
      <div class="col-lg-6 text-center">
        <div style="background: rgba(255,0,0,0.1); border: 2px dashed red; padding: 20px; border-radius: 10px; display: none;">
          <h5 style="color: red;">‚ùå HERO BOX INACTIVE</h5>
          <p style="color: red; font-size: 12px;">
            enabled: <%= heroBoxData.enabled %><br>
            isActive: <%= heroBoxData.isActive %><br>
            title: <%= heroBoxData.title %>
          </p>
        </div>
      </div>
    <% } %>
  </div>
</div>

<!-- Scroll indicator -->
<div class="hero-scroll-indicator content-fade-in" style="animation-delay: 1000ms">
  <div class="scroll-arrow" aria-hidden="true"></div>
  <span class="sr-only">Weiter scrollen</span>
</div>
<div class="section-separator"></div>