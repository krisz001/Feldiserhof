/* ===========================
   Feldiserhof – Gallery Styles (unified)
   =========================== */

#gallery{
  /* paletta */
  --fh-primary: #c28a37;        /* arany akcentus */
  --fg:         #1c232b;
  --fg-soft:    #667789;
  --muted:      #7b8a9a;
  --border:     rgba(13,22,33,.10);

  /* egységes thumb beállítások */
  --thumb-min: 240px;
  --thumb-max: 360px;
  --thumb-ratio: 16/10;

  background: transparent;
  border-radius: 0;
  box-shadow: none;
  margin-top: 40px;
  padding: 48px 0 56px;
}

/* meleg, finom sáv a tartalom mögött */
#gallery .container{
  background: linear-gradient(180deg,#fff4df 0%, #fdeecf 100%);
  border-radius: 24px;
  box-shadow: 0 10px 28px rgba(0,0,0,.06);
  padding: 40px 28px;
}

/* ---------- Fejléc ---------- */
#gallery .section-title,
#gallery .text-primary{ color: var(--fh-primary) !important; }

#gallery .gallery-head .kicker{
  display:inline-block; font-weight:600; letter-spacing:.06em;
  text-transform:uppercase; color: var(--fh-primary);
}
#gallery .gallery-head .title{
  margin:.25rem 0 .25rem; font-weight:800; color:#0f1418;
}
#gallery .gallery-head .lead{
  color: var(--fg-soft); max-width:720px; margin:0 auto;
}

/* =======================================================
   FOLDER (album) GRID – CENTER FIX
   ======================================================= */
.folder-grid{
  display:grid;
  /* a cellák szélessége: min 240px, a kártya max 360px – szépen törik 3/2/1 oszlopra */
  grid-template-columns: repeat(auto-fit, minmax(var(--thumb-min), 1fr));
  gap:24px;
  margin-top:1rem;

  /* a teljes rács középre kerül a konténerben */
  justify-items:center;            /* a kártyák a cellán belül középen */
  max-width: 1200px;               /* ne nőjön végtelenre */
  margin-left:auto; margin-right:auto;  /* CENTER FIX */
}

.folder-item{
  display:flex; flex-direction:column; align-items:center;
}

.folder-card{
  display:block; width:100%;
  max-width: var(--thumb-max);     /* egységes kártyaszélesség */
  background:#fff; border:0; border-radius:18px; overflow:hidden; text-align:left;
  box-shadow:0 10px 24px rgba(13,22,33,.10);
  transition:transform .18s ease, box-shadow .2s ease;
  cursor:pointer; position:relative; /* skeleton miatt */
}
.folder-card:focus-visible{
  outline:3px solid rgba(194,138,55,.45); outline-offset:2px;
}
.folder-card:hover{
  transform:translateY(-3px);
  box-shadow:0 16px 36px rgba(13,22,33,.16);
}

.folder-cover{ position:relative; aspect-ratio: var(--thumb-ratio); overflow:hidden; }
.folder-cover img{
  width:100%; height:100%; object-fit:cover; display:block;
  transition:transform .35s ease;
}
.folder-card:hover .folder-cover img{ transform:scale(1.03); }

/* kis badge a képen */
.folder-badge{
  position:absolute; left:12px; bottom:12px;
  padding:.25rem .55rem; font-size:.85rem; color:#fff;
  background:rgba(20,20,20,.65); border:1px solid rgba(255,255,255,.12);
  border-radius:999px; backdrop-filter:blur(4px);
}

/* felirat a kártya alatt */
.folder-caption{
  margin-top:8px; font-weight:600; font-size:.95rem; letter-spacing:.01em;
  color:#3b2f17; text-align:center; user-select:none;
}

/* =======================================================
   GALLERY (fotók) GRID
   ======================================================= */
.gallery-grid{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(var(--thumb-min), 1fr));
  gap:24px;
  margin-top:1rem;

  justify-items:center;            /* CENTER FIX – a képkártyák is középen */
  max-width: 1400px;
  margin-left:auto; margin-right:auto;
}

.gallery-card{
  position:relative; display:block; width:100%;
  max-width: var(--thumb-max);
  aspect-ratio: var(--thumb-ratio);
  border-radius:16px; overflow:hidden; background:#fff;
  box-shadow:0 10px 24px rgba(13,22,33,.10);
  transition:transform .18s ease, box-shadow .2s ease;
}
.gallery-card:hover{
  transform:translateY(-4px);
  box-shadow:0 16px 36px rgba(13,22,33,.16);
}
.gallery-card img{
  width:100%; height:100%; object-fit:cover; display:block;
  transition:transform .35s ease;
}
.gallery-card:hover img{ transform:scale(1.04); }

/* ---------- Lightbox ---------- */
#lightbox .modal-body{ padding:0; }
#lightboxImg{ border-radius:12px; max-height:80vh; object-fit:contain; }
#lightboxCap{ font-size:.9rem; color:#ccc; margin-top:10px; }

/* ---------- Album nézet – vissza gomb ---------- */
.gallery-subnav{
  position:sticky;
  top:calc(var(--nav-height,80px) + 8px);
  z-index:20;
  display:flex; align-items:center; justify-content:space-between;
  gap:1rem; margin:0 0 1rem 0;
}
.btn-back{
  display:inline-flex; align-items:center; gap:.55rem;
  padding:.5rem .9rem; border-radius:999px; text-decoration:none;
  font-weight:600; color:#0b1f2d;
  border:1px solid var(--border);
  background:linear-gradient(180deg, rgba(255,255,255,.78), rgba(255,255,255,.62));
  backdrop-filter:blur(8px);
  box-shadow:0 6px 20px rgba(11,31,45,.08);
  transition:transform .15s ease, box-shadow .2s ease, border-color .2s ease;
}
.btn-back i{ font-size:.9rem; line-height:1; }
.btn-back:hover{
  transform:translateY(-1px);
  border-color:rgba(11,31,45,.18);
  box-shadow:0 10px 26px rgba(11,31,45,.12);
}
.btn-back:active{ transform:translateY(0); box-shadow:0 4px 14px rgba(11,31,45,.10); }
@media (max-width:576px){
  .btn-back span{ display:none; } .btn-back{ padding:.5rem .6rem; }
}

/* ---------- Szekció címsor a lista nézetben ---------- */
.album-section h3,
.album-title{
  font-weight:700; color:#3b2f17; margin-bottom:1.2rem; text-align:left;
  border-left:4px solid var(--fh-primary); padding-left:10px;
}

/* ---------- Album (detail) – hero kép fix ---------- */
#gallery .album-hero{
  position:relative;
  border-radius:16px; overflow:hidden;
  background:#f3f5f7; box-shadow:0 10px 24px rgba(13,22,33,.10);
  margin-bottom:14px;
}
#gallery .album-hero::before{
  content:""; display:block; width:100%; aspect-ratio:16/9;
}
#gallery .album-hero > img{
  position:absolute; inset:0; width:100%; height:100%; object-fit:cover; display:block;
}

/* ha nincs wrapper: az első kép legyen a hero */
#gallery #galleryView > img:first-child{
  display:block; width:100%; aspect-ratio:16/9; height:auto;
  object-fit:cover; border-radius:16px; overflow:hidden;
  background:#f3f5f7; box-shadow:0 10px 24px rgba(13,22,33,.10); margin-bottom:14px;
}

/* album fejléc sor */
#gallery .album-bar,
#gallery .album-titlebar{
  display:flex; align-items:center; justify-content:space-between;
  gap:12px; margin:8px 0 12px;
}
#gallery .album-titlebar .album-name{ font-weight:700; color:#0f1418; }
#gallery .album-titlebar .album-meta{ color:#7b8a9a; font-weight:600; }

/* rács ne tapadjon a hero-hoz */
#gallery .gallery-grid{ margin-top: 12px; }

/* ---------- Skeleton loader ---------- */
.skel{
  position:absolute; inset:0; border-radius:inherit; overflow:hidden;
  background:linear-gradient(90deg, rgba(0,0,0,0.06) 25%, rgba(0,0,0,0.12) 37%, rgba(0,0,0,0.06) 63%);
  background-size:400% 100%;
  animation:skel-shimmer 1.2s infinite linear;
}
@keyframes skel-shimmer{
  0%{ background-position:100% 0; }
  100%{ background-position:0 0; }
}

/* ---------- Responsive finomítások ---------- */
@media (max-width:768px){
  .gallery-card{ aspect-ratio: 4/3; }
}
@media (max-width:576px){
  .folder-card{ max-width:100%; }
}

/* opcionális: nagy kijelzőn több oszlop */
@media (min-width:1600px){
  #gallery .gallery-grid,
  #gallery .folder-grid{ max-width:1600px; }
}
